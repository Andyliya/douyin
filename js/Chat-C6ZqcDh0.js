import{_ as h,u as C,a2 as f,at as I,G as O,a3 as M,g as v,$ as U,f as Q,L as G,b as j,au as P}from"./common-ZVAR-n_p.js";import{m as b}from"./vendor-EcFAmbRN.js";import{r as J,h as Y,m as B,u as H}from"./other-DA-CZvuc.js";const X=""+new URL("../assets/call-yKG2F7zM.png",import.meta.url).href,W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABfUlEQVRYR+2XPS9EURCGn5dOxH8QolBQqFQ+Sp1GaCTELgqdRCcUghURH62foVCIbUWnkxDiJ/ADXjmbu5trE/Zys+du4bRn5swzM+fMzBEFLxVsn3+AzomA7RlgFhjMcS+ugRtJ91nPqEXA9iWwnFUpg9yOpN0Mcsj2EbCZRfiXMqOSHlrpBIBHYAh4BeYl3bVS+m7f9iRwm+xXJG01y9ruBg6BMaAaAJwIVSVN/dV4Xe+n82yPA/vARF0+GoDtDeAA6Ek72XYA233AObCYMlwFQrpql7BtKQD2gFNgODH+AawC5RgAL0B/k9clSU+2w0VtewTSqT6W1HjqMQFCyBckXaVpYgK8A3OSQolurJgAdaNfSnMsgGdgIOV4iEJZ0lssgPDWt4ELYCQBCSkpAesxXkGttNvuBULDW4teiNK9xfYKcAIEoMZqayVsbm62QwesANPpZhS7HXclEEvAWfEDSQhFoSNZapAobijNOwXl0e+cf0EeL/Lo/kfgE/mhCPCTk9XPAAAAAElFTkSuQmCC",F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACzElEQVRYR9WXS6hPURTGf9+cUpJI8poJAxNmDBDCReQKJXnkURgQBijvK7eLLu5AIm/CgMTAHSnKRFEy8S4GIkxIn9a/s29//P/nnOvSza7dqX2+9a3vrLX3WvuIbh7qZv/8HwJsLwP6dTJajyVdLLLJjYDtYcBBYHIRUZ337cAKSU/q2RcJOACs+0PnyaxZ0vpOC7A9DjgH9O2igLfAVEkPavH8FgHbW4FwHvNvjkhHu6Tt1aQ/CbB9BWj4m15rcIWI8Wm9Q4DtQ8Dqf+w80W9LkagW8A7oU1LAbeAREHn9BowCRgMTS9q/l9Q7sBUB2Ya7U9J4vqSztbC2dwKbS/KMl9SeBMwGLhUZSqqO2HRgCPAVeC7perK37SIuYG4UqiRgOXC0wGitpBbbQ4EmYOYv+EjLKklPbUfhulHAF9jWJGALsCPH4IqkWVm6jgFRmmuNNknxMZHWq8CMHM7KRkwCmoG1RWDbA4CXBV82WNIz23uBDTnYw5LWJAGngfk54Eq+bM8BLhQIWCzphO1G4EwO9pykxiTgFjAhBzxP0nnbUaSiWOWNBZJO214AnMoB3pY0MQkoqoC7JW223Ss7//3rEL8BRkh6b7sordckNSQBbcDSHLW3JE3KNlf0im11sB0VznZRVI9LWpIElCkgRyStzERsAnb9ImKPpFiPE1DmWO+TtDEJiJ4fvb9oTJZ0M3MS6RgEfAdeSPqYrcdxvVxEFCdEUlMSsBA4WcIoIPuBFkmvqvHZ7Sk+YlpJnsppSQKmAB2ltATBF+Ax8DBrRiOBmD1K2CZIXFJuJAFlCkwnuEtBKwWrurncBcaWMu066J6kMUFTLSCuYGVbclclDJcUKfz5x8T2QKA1LpFd9VDHPvrIorgHpPc1r+W2IxURoqh4cdzS7JlttPRMm+4zEPNT1fMDkOZr4H5sWkmB6xj/x6/ZP0pHhbbbI/ADtnsKMCvJGlcAAAAASUVORK5CYII=",K=""+new URL("../assets/voice-white-9-XDcXvn.png",import.meta.url).href,x=""+new URL("../assets/emoji-white-CWmfDJJv.png",import.meta.url).href,q=""+new URL("../assets/add-white-CQV1VkOp.png",import.meta.url).href,z=""+new URL("../assets/keyboard-QZoxHCs9.png",import.meta.url).href,Z="data:image/png;base64,UklGRnICAABXRUJQVlA4WAoAAAAQAAAAawAAawAAQUxQSKsBAAABkKNtb9xGf3oeAAfwATj1qBd6pxd6Ta/p3Q8P4D44AHvjcFq4YfaZ54mICcB/1wMNHHqKa1IbXtM69RDV3NSp2WyuciPKvuTQZjNnlzbqjTYJ5m5oEf25tfjsz9xi/q4sZTmllIe6d5Qi9qwDLd1kxrn4N+GqeCe4nnzLVBB921Cqrt2LNtdi0eLa/F25Fz1cS0XZNYsFs/n2vEbqnG1XwtO8s0QnUc0/s226EXGygbty8A+2tG76vdAIAPJ9eAQc3vQ78BXnpO4JrpI6J7hO6pqglNQxQTmpW4KapE4J6pIO84whsNYS1CYd5AsOpY6gPukQ7zh9ryFoSToA4yKXCdqSdse4zCWC1qSdMQr5mqA9aVeMYr4i6JG0I0ZFPhP0SdoNoyofCXql3AmjMu8E/faC6mwm6NgGAwv8oXp9Uy83H2Ivsw9zu/vB5sPWbj7IwQPKB3M7Wz1Y7XBqcTuyZbi3xY5ji3BijzjU26dkp6EF9MQsp3Vh5il2PTHzsj6ynSuaLhec3NqE7EumNmBXXozWk7rx+ojocFqTDvM6//i2RnQcaOCA/64DAFZQOCCgAAAAMAgAnQEqbABsAD51LJBHpKKhoToIAJAOiWkBOAFu1Hj9GJ6VWUKXD9pqFOttkhsxmYX67Aouw357qD0aF2dbk7OnAGjM+6lw6AAA/vtAADbmggwDb1U6MS2c/ao/JQd9BJ8uYvE/31DgyT9G6f+WDQ5y94XVK3cjYBsd2Hhyb+jxmifVXmF3Ywf/gISAuaVLwjYo65g/PzyZkPmeAAAAAA==",$="data:image/png;base64,UklGRu4BAABXRUJQVlA4WAoAAAAQAAAAawAAawAAQUxQSDcBAAABgFtrb90GA3AADqAB0Du90msAsJd7DpABMID6cAD2+qezTUh/3o8TERMgf8Sn/CCxZFvH49uSKWnH4KaEZgQudAyhRsYQbFQM4UbEcEAjkdRxyKrpFLrUrTWcujV/WaYjTA6aWw7TDqJdg3ID1Z5iVpC1mI1NC0mgmyKUzxRx4TNHzG/KwmeJMD72rupezVbvb4Gr3NTKzlXuzo1akYcLsSIDC60iQwupJoOdUx6llKoMd0Y6Tgl1Cex8PML5rBGVj0XY+65GrHw8wvn0iM4HOk5ByMdVRtBRGZR8VOMEG2MgBRthoAV7zEAMLd+nDmpA1VvqOODZgO6rWfWOQ57v2D8OZj7ze+HCRyMynylCOpsuoZVNjVE2GiMrl6tEFyL7VeJzbQT2fX9dVY6ZJn16PrdOSf7dCQBWUDggkAAAAPAHAJ0BKmwAbAA+hTSUR6UjIiE0KACgEIlpANNgNSawYwk61XfRtv1iDBj+P9Fl8MQ53c26EvSYeYbDNSp/RUHo4TvrPE22AAD++dBAAeagbDs8195nUJVq45h6zR4dvr4ejFEgmJHgr87/YfFzHU5hY4yJ+xXwuGv86IlDmcZzA0mJBAinvQZaqg2wYAAAAA==",ee="data:image/png;base64,UklGRjQCAABXRUJQVlA4WAoAAAAQAAAAawAAawAAQUxQSI4BAAABkFvbblxXtwAUgAJUAHMrf8z1cjKnczlXASxAuZGbuVGcRoP487AiYgLwd3IaYpyS/TgGMkdJtGOZ2dSjaectGnpRB4Md8UDMvKiLwUrxoVipPlQr4oNYUSe/Q8gLssFe8I8dNR+EbCD5kGGUxAOB2dGDaAdLfzMMk/QmbAlDbwNsx76esJ57yrCf+8noMfeSYZp4D2ProY3YZ7LBWngHLDe1OaVFbhLGLiVlKyqJN6ByhwTsRrnjlbCl1NSQqsyM7SCX3gjH86U1YEupqdpS1TlgG+XcgtPLufbENlTdN6YqhQEgygnhc9ROtEwAODU9NqeqawkAYj0ouJgO6gggpFVP96CqbZkG8LNuhivDpmbCMC1Nr3ayW8v0mErF5VrSYypr0zt72r9Dv7C/dq15pnyF1bXpysM3oQvim5ZzSZ3TdCapezrzHi/6DVBdpjFOVb/cC6v/YUVewOiPi/ggVlYfqpXiQ7ESfBitQDx4h9ngwWgHsfX2EWGZZ+nn8/M9E6xTGGOy/4xxIPydHFZQOCCAAAAAMAcAnQEqbABsAD6FNJVHpSMiITOIAKAQiWkA1Iwzc6fmU5SUs51tKZyS0Rn7/oCofpUfGNozA3QHaNHdriuHvi+wAP750ZVgz/ZF4Y44oMvoWKAGVeL/9eYPCneHzO+74FleC6/eUYW9gV/o5HpeE1Hi+sSJUnseSkkmwsQAAAA=",te="data:image/png;base64,UklGRpoBAABXRUJQVlA4WAoAAAAQAAAAawAAawAAQUxQSPIAAAABgJttTxhHA3gADeABNID7cw+905NeA9BHA3gA+tBby12ACNHeExETAB8Xb0dIzJzFMDOn68AJSHTe+2Ut6dx5M3Xp7MkS6vxkKDiQDIkDt6HigHYh0TD1ENtIVLW8xmzeYNb31xB0gRpC1b/JOxRtTSN2T0LV5jyC/EDRztuzULW3+IWi/X6FqusoOtStwR8FlaVQrCsBlJUAxLoSQOmREegHQKwrAZSm5B3AWRrQq70BkJ93XzDUBWwBoJ/neX4jjC0eQC/SDqOzA3fXfwYHkqGtzoeGIE73DabTZBmMn/dEcoJ9POLFzGI4M3OKJ8InyFZQOCCCAAAAEAgAnQEqbABsAD6JNpVHpSMiITLoAKARCWkA1fQoLDkoOIv0GsYzOmGOOuJ6cyKiH1P39QBJP/RMOEVagPTtBgaqneyp89AgAAD+/P8AARcwgWxKt98+FBT/YBw6/IO2Ef/wB5JdQesDigjLY/otArvmRH7wWzUEVd/zPX1cAAAAAA==",ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAARVBMVEUAAAATGCAVFyMVGCMWGCMWGCIQECAVGCMVFyIVGCMWGCQVFyIVFiIVFSUWGCIVGCMUGCQWGCIVFyMVFyMVGCMQGCAWGCMlh4EVAAAAFnRSTlMAIO+g398Qv3BggJBQMH9fQIDPr54hc8jDeAAAAUVJREFUWMPtlttOhTAQRZm2tKVwgHNx/v9TNfqwg60Ks0+iMaxHCCudCzPtTk7+NjI654X3LE7fCLRp1g/c5Rke/kyTghCJPPeqwNtFvW7IVs+gW5xwgYFEVgxkLkPARS5DYDSIvLYw5PumgGomBVyWtM3AFQ1cD4vu2mQ6LMoKqOaWZh9ZOjJVmvtKTDVQIjGOmA4CQ1X4Xz/S2v71+cKtZpE4BdRuy+2+5oObyeDAQjcTn/BRAXUtibdvTet1EuvGzXgX34vhd6ouTrfMVdxebLsyyefhF/aVs8Cx+c5XbX/EhGBkW4VsW+BhqR76aDKpq+UvNpPaTKM2MTR+2XWm+CyTt63xGrfvb+k5EZAfTQ/jfFL7rX7oFVBXcUn6JaU7RHGcB4hv5mfqgC1TGHecCuPIqErQlNgxSE5BNTym2J38A14B8yRlGu//WoEAAAAASUVORK5CYII=",se="data:image/png;base64,UklGRvgBAABXRUJQVlA4WAoAAAAQAAAAawAAawAAQUxQSCwBAAABgFtrb90GA3AADKAB2NsDqJd7qmd6DuA+7KNe7MPe/3CUaQFC3o8TERNA//B0495n7uNx7zNrchGCV77HGYLJ6VkgWniLC0QXNQHCeStBOGgpUnANQ7oqcRD3jReD08FW8FeSm1JKJ3tOKaWJH5oqAAR7AtrwQMCmWZi6GNZV1zOZh6kn2Zd+dXFKBjnSQVmqUOuqVNbipeYNukh5LTTLzHQ3yswkF7eIr3Wvmj11jnm3mj0pyHcMzRLVWcOQQLQmySDYEiCExHbwFWJATkYu6N7P5j8von2hx9vneyhb90zdXGxbuY/osph0a9fZ0b7cM9JhfQ+TaM8THTiqK+5IbtXGdGivbKaDR1WFDv+igkpT+Xj82qwkPBSgjmTgeb3d1kGKiJmMZKa/0wFWUDggpgAAALAHAJ0BKmwAbAA+hTKUR6UioiE06ACgEIlpAyQCFcCU/GHKVk2RZDTcuvJZuKCRP3XgcYwBGR/JnRrcUIylJxh676nFGQAA/vnQQAPXlgxrsGSHT3Ro2H8XEOw26tiubVRi9qPeg6KHtP+bj5r+yt3ChnaJkuJuaNgl0MNzz2PuOnvC+hsyBv7t9xv5hJ8K/1P+/zTwB+abab/+ft0pwY6iBAAAAAA=",oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACmUlEQVRYR+2UT2gTQRTGv9eqiHrxUEQJO5PdiFAVPKioIKg3vXmogidBUCkWETyoILQi7aEiNiBi8VrwD+rRoxH1ZgUFFWsmmdlCTqKgINrSfbKrm6Zp0s00Cb10jvvevO837337CEt8aIn10RaAjJPuCYj3EiHFTFOEYEwZ86zWY1sK4El5EowBAE4NsXEwRpWvRytjLQPwhHwC4GjiSAmPlNbH4ryWALhC3iTgQqL4rGoZomkAL+Vl0DnzpWHx/4lBB+0oFovvmgdw0n0gztoCMKO/4OuB5gGEyALUZwsAIKeMPtg0QCjsCakAuLYQymhaNEDGcbrzvv8xFHVT7nbqDN5bAvjKaLEoAE+IwwANK6O3xaKeSF8EeLhxCH6ljNlvDeBKeZYYIwBWxUaahZDPARxoCIJxJlxKVgCuIweJcLlSgIOZXYXJyTfht82O4wbUEfoh6Ywro3eGSQ0BCCE2rgTdYOBEjcof5ozCkadBuLsQAXGwNfZPIkBGyj3MeFBnv0c6zBgq+PpKeRRSPgSjpwbED3BwRPn+64ZWsSflcTDuJ/XzX5wPKWNCDyCdTm/oCPgTgPVRBPhG4LHO6elrE6XS18p6dTvgOnKICJcaE4+yJpTRW+L8jJRlM+a1ztWrMw9ASrl6RYAXTNhtIf6TCYO/p6aypVLpl8W9uSZc5EJ5SuDreWPe2gjP84DryPNEuGVThMDn8sbctrlTnRuNIJwXMyID2Zxwl9vk18qNCnj1f5vqO58BlI3WMoCMEKcYdG+B13wn8NWw3Z6QHOe1DKC7q2vdnzVrw9dtqoZg4E7B6N74e1sAojEIsQ+gig1Fj2cCjBQniy8rodoGUF4gQvSCORfv6uqOtB0gydXLAMsdSPKIbfwvtWUHMKolZXsAAAAASUVORK5CYII=",ne=""+new URL("../assets/like-VddcLG_D.png",import.meta.url).href,ie=""+new URL("../assets/copy-pi37Rj7h.png",import.meta.url).href,ce=""+new URL("../assets/send-QcNfHS_1.png",import.meta.url).href,le=""+new URL("../assets/comment-RG10Z0wo.png",import.meta.url).href,re=""+new URL("../assets/return-C3xrKDna.png",import.meta.url).href,me=""+new URL("../assets/del-58H18OsV.png",import.meta.url).href,Ae=""+new URL("../assets/bg-open-CHXDQIZz.png",import.meta.url).href,de=""+new URL("../assets/bg-close-fY7FWjOB.png",import.meta.url).href,ue=""+new URL("../assets/close-CL1Uh77N.png",import.meta.url).href,Ve=""+new URL("../assets/rss2-C0L5n4Am.png",import.meta.url).href,ge=""+new URL("../assets/rss-C9ZTVdlw.png",import.meta.url).href,N=""+new URL("../assets/video-BWsCACDS.png",import.meta.url).href,pe="data:image/webp;base64,UklGRsYCAABXRUJQVlA4WAoAAAAQAAAAZQAAdwAAQUxQSEIAAAABYBRJaqCRgAScJU4OZ0hAwkrBAHwvETEBYF/26HUAXD2+HNQLym6vGLVD9vP/8/9P/dyhYodj2kDgmk8OcGu2DANWUDggXgIAADAQAJ0BKmYAeAA+kTiXR6WjIiEwCACwEglAGr0Axgd5yKrt3PMB51WmAby2vwVyMt/SAIUxqa9383F0lPyXK/ADAJn+POqaYXQOfhz51zsumILQYrpJghHrHDo8WqofdTMxvM27Rg0UWAHi9RjKpYkqapr032slqvKfGemXBQQz0n1SadZ6pNOsoAD+9c+/6pcZUv5SBc0LYHPH7j8AB+hJ5lZaSgObIt+U2YG+EwH6+obtflErBoHi6//F0qXouUMNF2nMFcjVtSkOKFk0FcSfpZldKxMxgKMq5ANUHCKoUxm0/gLhXgtx4mttcD8DszeX4gbhFHl+2cnSOTZzmjGC2EDjW+Uxs7Kai0DvDHv0hpJ34nzTnVC1qYMmfJu0v9s0ZxaAeJi1EqYIJRa5p8sEB3Irikdt0LnApn5VxxkDV07tdKYHuMgqrxpL9hDVFfhrww+g28JX8rYAEHKJ5AUROZs35oD+RNa3VPFHWlSruZ6OI9NnJs7zgQ5QmeHZw+YVHn7q3DXcR5APGCQ4aXizj/Vt9J+TOHWlsC3MvWMRvJ05uTcJq5YEAkBg0F84A5+ayjZcQFgLYLQMSIw3Co4rzquun7tR5cZCXoFPclwmhImFQuD3lRdOW0lltNkYUNkhisbd69eDeaXOc6VVHtbT/e2QmPfj8IXw6JSye+3yFbfo6P/LDVfjQj5MdIwHmW3JD+lAh0xS00MLoZ1qHOHTMgTD8z/wqpAdZZ2tBUSaPPdRvFBli4/wcIiA3tAQhq+JTkbADM4gRrMK+jHYVPHgBTu/QAAAAAHbeAAAAA==";let Ee={REJECT:0,RESOLVE:1,NONE:2},_e={SINGLE:1,MULTIPLE:2},ve={TEXT:0,TIME:1,VIDEO:2,DOUYIN_VIDEO:9,AUDIO:3,IMAGE:6,VIDEO_CALL:4,AUDIO_CALL:5,MEME:7,RED_PACKET:8};const he={name:"ChatMessage",props:{message:{type:Object,default(){return{}}}},data(){return{MESSAGE_TYPE:ve,CALL_STATE:Ee,RED_PACKET_MODE:_e}},computed:{...b(C,["userinfo"]),isMe(){return this.userinfo.uid===this.message.user.id}},created(){},methods:{}},l=r=>(Vue.pushScopeId("data-v-1a3429e2"),r=r(),Vue.popScopeId(),r),Ce={key:0,class:"time"},Be={key:0,src:J,alt:"",class:"avatar"},Ne={key:0,class:"chat-text"},ke={key:1,class:"douyin_video"},Te=["src"],Re={class:"title"},De=l(()=>Vue.createElementVNode("img",{src:B,class:"pause"},null,-1)),Se={class:"author"},Le=["src"],ye={class:"name"},we={key:2,class:"douyin_video"},fe=["src"],Ie=l(()=>Vue.createElementVNode("img",{src:B,class:"pause"},null,-1)),Oe={key:3,class:"audio"},Me={class:"duration"},Ue=l(()=>Vue.createElementVNode("img",{src:Ve,alt:"",class:"audio-icon"},null,-1)),Qe=l(()=>Vue.createElementVNode("img",{src:ge,alt:"",class:"audio-icon"},null,-1)),Ge={class:"duration"},je={key:4,class:"call"},Pe={key:0,class:"resolve"},be=l(()=>Vue.createElementVNode("img",{class:"icon",src:N,alt:""},null,-1)),Je=l(()=>Vue.createElementVNode("span",null,"é€šè¯æ—¶é•¿ 05:32",-1)),Ye=[be,Je],He={key:1,class:"reject"},Xe=l(()=>Vue.createElementVNode("img",{class:"icon",src:N,alt:""},null,-1)),We={class:"notice"},Fe={key:0,class:"state"},Ke={key:1,class:"state"},xe=l(()=>Vue.createElementVNode("span",null,"ç‚¹å‡»å‘¼å«",-1)),qe={key:5,class:"image"},ze=["src"],Ze={key:6,class:"meme"},$e=["src"],et={class:"top"},tt=l(()=>Vue.createElementVNode("img",{src:pe,alt:""},null,-1)),at={class:"right"},st={class:"title"},ot={key:0,class:"state"},nt=l(()=>Vue.createElementVNode("span",{class:"bottom"},"æŠ–éŸ³çº¢åŒ…",-1)),it={key:8,class:"loves"},ct=l(()=>Vue.createElementVNode("img",{src:I,alt:""},null,-1)),lt={key:1,src:Y,alt:"",class:"avatar"};function rt(r,m,t,A,o,e){var u;return Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["ChatMessage",e.isMe?"right":"left"]),style:Vue.normalizeStyle(t.message.type===o.MESSAGE_TYPE.TIME&&"margin-bottom: 0;")},[t.message.type===o.MESSAGE_TYPE.TIME?(Vue.openBlock(),Vue.createElementBlock("div",Ce,Vue.toDisplayString(t.message.time),1)):(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:1},[e.isMe?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("img",Be)),Vue.createElementVNode("div",{class:"chat-wrapper",onClick:m[0]||(m[0]=V=>r.$emit("itemClick",t.message))},[t.message.type===o.MESSAGE_TYPE.TEXT?(Vue.openBlock(),Vue.createElementBlock("div",Ne,Vue.toDisplayString(t.message.data),1)):Vue.createCommentVNode("",!0),t.message.type===o.MESSAGE_TYPE.DOUYIN_VIDEO?(Vue.openBlock(),Vue.createElementBlock("div",ke,[Vue.createElementVNode("img",{class:"poster",src:t.message.data.poster,alt:""},null,8,Te),Vue.createElementVNode("div",Re,Vue.toDisplayString(t.message.data.title),1),De,Vue.createElementVNode("div",Se,[Vue.createElementVNode("img",{class:"video-avatar",src:t.message.data.author.avatar,alt:""},null,8,Le),Vue.createElementVNode("span",ye,Vue.toDisplayString(t.message.data.author.name),1)])])):Vue.createCommentVNode("",!0),t.message.type===o.MESSAGE_TYPE.VIDEO?(Vue.openBlock(),Vue.createElementBlock("div",we,[Vue.createElementVNode("img",{class:"poster",src:t.message.data.poster,alt:""},null,8,fe),Ie])):Vue.createCommentVNode("",!0),t.message.type===o.MESSAGE_TYPE.AUDIO?(Vue.openBlock(),Vue.createElementBlock("div",Oe,[e.isMe?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:0},[Vue.createElementVNode("div",Me,Vue.toDisplayString(t.message.data.duration)+"'",1),Ue],64)):(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:1},[Qe,Vue.createElementVNode("div",Ge,Vue.toDisplayString(t.message.data.duration)+"'",1)],64))])):Vue.createCommentVNode("",!0),t.message.type===o.MESSAGE_TYPE.VIDEO_CALL||t.message.type===o.MESSAGE_TYPE.AUDIO_CALL?(Vue.openBlock(),Vue.createElementBlock("div",je,[t.message.state===o.CALL_STATE.RESOLVE?(Vue.openBlock(),Vue.createElementBlock("div",Pe,Ye)):Vue.createCommentVNode("",!0),t.message.state===o.CALL_STATE.REJECT||t.message.state===o.CALL_STATE.NONE?(Vue.openBlock(),Vue.createElementBlock("div",He,[Xe,Vue.createElementVNode("div",We,[t.message.state===o.CALL_STATE.REJECT?(Vue.openBlock(),Vue.createElementBlock("span",Fe,"å¯¹æ–¹å·²æ‹’ç»")):Vue.createCommentVNode("",!0),t.message.state===o.CALL_STATE.NONE?(Vue.openBlock(),Vue.createElementBlock("span",Ke,"å¯¹æ–¹æœªæ¥é€š")):Vue.createCommentVNode("",!0),xe])])):Vue.createCommentVNode("",!0)])):Vue.createCommentVNode("",!0),t.message.type===o.MESSAGE_TYPE.IMAGE?(Vue.openBlock(),Vue.createElementBlock("div",qe,[Vue.createElementVNode("img",{src:t.message.data,alt:""},null,8,ze)])):Vue.createCommentVNode("",!0),t.message.type===o.MESSAGE_TYPE.MEME?(Vue.openBlock(),Vue.createElementBlock("div",Ze,[Vue.createElementVNode("img",{src:t.message.data,alt:""},null,8,$e)])):Vue.createCommentVNode("",!0),t.message.type===o.MESSAGE_TYPE.RED_PACKET?(Vue.openBlock(),Vue.createElementBlock("div",{key:7,class:Vue.normalizeClass(["red_packet",t.message.data.state!=="æœªé¢†å–"?"invalid":""])},[Vue.createElementVNode("div",et,[tt,Vue.createElementVNode("div",at,[Vue.createElementVNode("div",st,Vue.toDisplayString(t.message.data.title),1),t.message.data.state!=="æœªé¢†å–"?(Vue.openBlock(),Vue.createElementBlock("div",ot,Vue.toDisplayString(t.message.data.state),1)):Vue.createCommentVNode("",!0)])]),nt],2)):Vue.createCommentVNode("",!0),(u=t.message.loved)!=null&&u.length?(Vue.openBlock(),Vue.createElementBlock("div",it,[ct,(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.message.loved,V=>(Vue.openBlock(),Vue.createElementBlock("img",{key:V,src:f,alt:"",class:"love-avatar"}))),128))])):Vue.createCommentVNode("",!0)]),e.isMe?(Vue.openBlock(),Vue.createElementBlock("img",lt)):Vue.createCommentVNode("",!0)],64))],6)}const mt=h(he,[["render",rt],["__scopeId","data-v-1a3429e2"]]),n=r=>(Vue.pushScopeId("data-v-6a95cf85"),r=r(),Vue.popScopeId(),r),At={class:"Chat"},dt={class:"header"},ut={class:"left"},Vt=n(()=>Vue.createElementVNode("div",{class:"badge"},"6",-1)),gt=n(()=>Vue.createElementVNode("span",null,"ç« è‹¥æ¥ ",-1)),pt={class:"right"},Et={class:"footer"},_t={key:0,class:"toolbar"},vt=n(()=>Vue.createElementVNode("img",{src:F,alt:"",class:"camera"},null,-1)),ht=n(()=>Vue.createElementVNode("img",{src:x,alt:""},null,-1)),Ct={key:1,class:"record"},Bt=n(()=>Vue.createElementVNode("span",null,"æŒ‰ä½ è¯´è¯",-1)),Nt={key:2,class:"options"},kt=Vue.createStaticVNode('<div class="option-wrapper" data-v-6a95cf85><div class="option" data-v-6a95cf85><img src="'+Z+'" alt="" data-v-6a95cf85><span data-v-6a95cf85>ç…§ç‰‡</span></div><div class="option" data-v-6a95cf85><img src="'+$+'" alt="" data-v-6a95cf85><span data-v-6a95cf85>æ‹æ‘„</span></div><div class="option" data-v-6a95cf85><img src="'+ee+'" alt="" data-v-6a95cf85><span data-v-6a95cf85>çº¢åŒ…</span></div><div class="option" data-v-6a95cf85><img src="'+te+'" alt="" data-v-6a95cf85><span data-v-6a95cf85>è§†é¢‘é€šè¯</span></div><div class="option" data-v-6a95cf85><img src="'+ae+'" alt="" data-v-6a95cf85><span data-v-6a95cf85>è¯­éŸ³é€šè¯</span></div><div class="option" data-v-6a95cf85><img src="'+se+'" alt="" data-v-6a95cf85><span data-v-6a95cf85>ä¸€èµ·çœ‹è§†é¢‘</span></div><div class="option" data-v-6a95cf85><img src="'+oe+'" alt="" data-v-6a95cf85><span data-v-6a95cf85>ä¸€èµ·å”±</span></div></div>',1),Tt=[kt],Rt=n(()=>Vue.createElementVNode("div",{class:"options"},[Vue.createElementVNode("img",{src:ne,alt:""}),Vue.createElementVNode("span",null,"ç‚¹èµ")],-1)),Dt=n(()=>Vue.createElementVNode("div",{class:"options"},[Vue.createElementVNode("img",{src:ie,alt:""}),Vue.createElementVNode("span",null,"å¤åˆ¶")],-1)),St=n(()=>Vue.createElementVNode("div",{class:"options"},[Vue.createElementVNode("img",{src:ce,alt:""}),Vue.createElementVNode("span",null,"è½¬å‘")],-1)),Lt=n(()=>Vue.createElementVNode("div",{class:"options"},[Vue.createElementVNode("img",{src:le,alt:""}),Vue.createElementVNode("span",null,"å›å¤")],-1)),yt=n(()=>Vue.createElementVNode("div",{class:"options"},[Vue.createElementVNode("img",{src:re,alt:""}),Vue.createElementVNode("span",null,"å›å¤")],-1)),wt=n(()=>Vue.createElementVNode("div",{class:"options"},[Vue.createElementVNode("img",{src:me,alt:""}),Vue.createElementVNode("span",null,"åˆ é™¤")],-1)),ft=[Rt,Dt,St,Lt,yt,wt],It={key:0,class:"red-packet"},Ot={class:"content"},Mt=n(()=>Vue.createElementVNode("img",{src:Ae,alt:"",class:"bg"},null,-1)),Ut={class:"wrapper"},Qt={class:"top"},Gt=n(()=>Vue.createElementVNode("div",{class:"money"},"13.14å…ƒ",-1)),jt={class:"belong"},Pt=n(()=>Vue.createElementVNode("div",{class:"password"},"å¤§å‰å¤§åˆ©",-1)),bt=n(()=>Vue.createElementVNode("img",{src:de,alt:"",class:"bg"},null,-1)),Jt={class:"wrapper"},Yt={class:"top"},Ht=["src"],Xt={class:"belong"},Wt=n(()=>Vue.createElementVNode("div",{class:"password"},"å¤§å‰å¤§åˆ©",-1)),Ft=n(()=>Vue.createElementVNode("img",{src:P,alt:""},null,-1)),Kt={key:1},xt=Vue.defineComponent({name:"Chat",__name:"Chat",setup(r){let m={REJECT:0,RESOLVE:1,NONE:2},t={VALID:0,INVALID:1},A={NORMAL:0,SENDING:1},o={SENDING:0,ARRIVED:1,READ:1},e={TEXT:0,TIME:1,VIDEO:2,DOUYIN_VIDEO:9,AUDIO:3,IMAGE:6,VIDEO_CALL:4,AUDIO_CALL:5,MEME:7,RED_PACKET:8},u={SINGLE:1,MULTIPLE:2};const V=VueRouter.useRouter(),p=H(),E=C(),g=Vue.ref(),a=Vue.reactive({previewImg:new URL(""+new URL("../assets/3-dILWj01a.jpg",import.meta.url).href,import.meta.url).href,videoCall:[],MESSAGE_TYPE:e,messages:[{type:e.TIME,data:"",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.MEME,state:A.NORMAL,data:new URL(""+new URL("../assets/1-DnPioQn1.jpg",import.meta.url).href,import.meta.url).href,time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"},loved:[{id:2,avatar:"../../assets/img/icon/head-image.jpg"},{id:2,avatar:"../../assets/img/icon/head-image.jpg"}]},{type:e.RED_PACKET,state:A.NORMAL,mode:u.MULTIPLE,data:{money:5.11,title:"å¤§å‰å¤§åˆ©",state:"æœªé¢†å–"},time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.RED_PACKET,state:A.NORMAL,mode:u.SINGLE,data:{money:5.11,title:"å¤§å‰å¤§åˆ©",state:"å·²è¿‡æœŸ"},time:"2021-01-02 21:21",user:{id:1,avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.IMAGE,state:A.NORMAL,data:new URL(""+new URL("../assets/1-DnPioQn1.jpg",import.meta.url).href,import.meta.url).href,time:"2021-01-02 21:21",user:{id:1,avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.IMAGE,state:A.NORMAL,data:new URL(""+new URL("../assets/1-DnPioQn1.jpg",import.meta.url).href,import.meta.url).href,time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"},readState:o.ARRIVED},{type:e.VIDEO_CALL,state:m.REJECT,data:"2021-01-02 21:44",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.VIDEO_CALL,state:m.RESOLVE,data:"2021-01-02 21:44",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.VIDEO_CALL,state:m.NONE,data:"2021-01-02 21:44",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.AUDIO_CALL,state:m.REJECT,data:"2021-01-02 21:44",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.AUDIO_CALL,state:m.RESOLVE,data:"2021-01-02 21:44",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.AUDIO_CALL,state:m.NONE,data:"2021-01-02 21:44",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.AUDIO,state:A.NORMAL,data:{duration:5,src:""},time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.AUDIO,state:A.NORMAL,data:{duration:10,src:""},time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"åˆåœ¨åˆ·æŠ–éŸ³",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"æˆ‘æ˜¨å¤©@ä½ é‚£ä¸ªè§†é¢‘å‘ç»™æˆ‘ä¸‹",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"æ˜¯éº¦ç”°é‚£ä¸ªå—?",time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"é‚£ä¸ªåœ°æ–¹å«åšç¨»åŸ",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.DOUYIN_VIDEO,state:t.VALID,data:{poster:new URL(""+new URL("../assets/1-DnPioQn1.jpg",import.meta.url).href,import.meta.url).href,author:{name:"å¸¦ä½ å»æ—…è¡Œ",avatar:new URL(""+new URL("../assets/head-image-Ch9hfs_A.jpeg",import.meta.url).href,import.meta.url).href},title:"åªåˆ†äº«ç»™ä½ "},time:"2021-01-02 21:21",user:{id:"1",avatar:"../../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"å“‡,è¿™å°±æ˜¯ç”µå½±é‡Œçš„ç¨»åŸ",time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"çœŸçš„å¥½æ¼‚äº®",time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"å¯¹8",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"é‚£å’±ä»¬ä»€ä¹ˆæ—¶å€™å»",time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"ä¸‹å‘¨æˆ‘æœ‰ç©º,ä¸‹å‘¨å§",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"æœŸå¾…ğŸ‘Œ",time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.VIDEO,state:t.VALID,data:{poster:new URL(""+new URL("../assets/3-dILWj01a.jpg",import.meta.url).href,import.meta.url).href},time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"é¦™è‰å‘³çš„å†°æ·‡æ·‹è¿˜æœ‰å—?",time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"å°±çŸ¥é“ä½ é¦‹,å†°ç®±é‡Œç»™ä½ å±¯ç€å‘¢",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"å°‘åƒä¸€ç‚¹å“ˆ",time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"åœ¨æœ€ä¸‹é¢é‚£å±‚",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"æˆ‘å°±åƒäº¿ç‚¹ç‚¹",time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"è‰è“å‘³çš„ä¹Ÿå¥½åƒ,ä½ å¯ä»¥å°å°",time:"2021-01-02 21:21",user:{id:"2739632844317827",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"ä½ è¯´çš„æ²¡é”™",time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}},{type:e.TEXT,data:"è¿™ä¸ªç¡®å®å¾ˆå¥½åƒ",time:"2021-01-02 21:21",user:{id:"1",avatar:"../../assets/img/icon/head-image.jpg"}}],typing:!1,loading:!1,opening:!1,isOpened:!1,recording:!1,showOption:!1,isShowOpenRedPacket:!1,tooltipTop:-1,tooltipTopLocation:""});Vue.onMounted(()=>{g.value.querySelectorAll("img").forEach(i=>i.addEventListener("load",_)),_()}),Vue.onUnmounted(()=>{g.value.querySelectorAll("img").forEach(i=>i.removeEventListener("load",_))});const k=Vue.computed(()=>a.showOption);function T(){a.recording=!0,a.showOption=!1}function _(){Vue.nextTick(()=>{let i=g.value;i.scrollTo({top:i.scrollHeight-i.clientHeight})})}function R(){a.opening=!0,setTimeout(()=>{a.opening=!1,p("/message/chat/red-packet-detail")},1e3)}async function D(i){i.type===a.MESSAGE_TYPE.RED_PACKET&&(a.loading=!0,await j(500),a.loading=!1,a.isOpened=i.data.state==="å·²è¿‡æœŸ",a.isShowOpenRedPacket=!0)}function S(i){console.log(i);let s=null;i.path.map(d=>{d&&d.classList&&d.classList.value==="chat-wrapper"&&(s=d)}),s&&(s.getBoundingClientRect().y-61>70?(a.tooltipTopLocation="top",a.tooltipTop=s.getBoundingClientRect().y-70):(a.tooltipTopLocation="bottom",a.tooltipTop=s.getBoundingClientRect().y+s.getBoundingClientRect().height+10))}return(i,s)=>{const d=Vue.resolveComponent("dy-back"),L=Vue.resolveComponent("BaseMask"),y=Vue.resolveDirective("longpress");return Vue.openBlock(),Vue.createElementBlock("div",At,[Vue.createElementVNode("div",{class:"chat-content",onTouchstart:s[7]||(s[7]=c=>a.tooltipTop=-1)},[Vue.createElementVNode("div",dt,[Vue.createElementVNode("div",ut,[Vue.createVNode(d,{onClick:Vue.unref(V).back},null,8,["onClick"]),Vt,gt]),Vue.createElementVNode("div",pt,[Vue.createElementVNode("img",{onClick:s[0]||(s[0]=c=>Vue.unref(O).emit(Vue.unref(M).SHOW_AUDIO_CALL)),src:X,alt:""}),Vue.createElementVNode("img",{onClick:s[1]||(s[1]=(...c)=>Vue.unref(v)&&Vue.unref(v)(...c)),src:W,alt:""}),Vue.createElementVNode("img",{src:U,alt:"",onClick:s[2]||(s[2]=c=>Vue.unref(p)("/message/chat/detail"))})])]),Vue.createElementVNode("div",{class:Vue.normalizeClass(["message-wrapper",k.value?"expand":""]),ref_key:"msgWrapper",ref:g},[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(a.messages,(c,w)=>Vue.withDirectives((Vue.openBlock(),Vue.createBlock(mt,{onItemClick:D,message:c,key:w},null,8,["message"])),[[y,S]])),128))],2),Vue.createElementVNode("div",Et,[a.recording?(Vue.openBlock(),Vue.createElementBlock("div",Ct,[Bt,Vue.createElementVNode("img",{onClick:s[6]||(s[6]=c=>a.recording=!1),src:z,alt:""})])):(Vue.openBlock(),Vue.createElementBlock("div",_t,[vt,Vue.createElementVNode("input",{onClick:s[3]||(s[3]=c=>a.typing=!0),onBlur:s[4]||(s[4]=c=>a.typing=!1),type:"text",placeholder:"å‘é€ä¿¡æ¯..."},null,32),Vue.createElementVNode("img",{onClick:T,src:K,alt:""}),ht,Vue.createElementVNode("img",{onClick:s[5]||(s[5]=c=>a.showOption=!a.showOption),src:q,alt:""})])),a.showOption?(Vue.openBlock(),Vue.createElementBlock("div",Nt,Tt)):Vue.createCommentVNode("",!0)])],32),Vue.createVNode(Vue.Transition,{name:"tooltip"},{default:Vue.withCtx(()=>[a.tooltipTop!==-1?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,class:"tooltip",style:Vue.normalizeStyle({top:a.tooltipTop+"px"})},ft,4)):Vue.createCommentVNode("",!0)]),_:1}),Vue.createCommentVNode("",!0),Vue.createVNode(Vue.Transition,{name:"scale"},{default:Vue.withCtx(()=>[a.isShowOpenRedPacket?(Vue.openBlock(),Vue.createElementBlock("div",It,[Vue.createVNode(L,{onClick:s[8]||(s[8]=c=>a.isShowOpenRedPacket=!1)}),Vue.createElementVNode("div",Ot,[a.isOpened?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:0},[Mt,Vue.createElementVNode("div",Ut,[Vue.createElementVNode("div",Qt,[Gt,Vue.createElementVNode("div",jt,Vue.toDisplayString(Vue.unref(E).userinfo.nickname)+"çš„çº¢åŒ…",1),Pt]),Vue.createElementVNode("div",{class:"notice",onClick:s[9]||(s[9]=c=>Vue.unref(p)("/message/chat/red-packet-detail"))}," æŸ¥çœ‹çº¢åŒ…è¯¦æƒ…> ")])],64)):(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:1},[bt,Vue.createElementVNode("div",Jt,[Vue.createElementVNode("div",Yt,[Vue.createElementVNode("img",{src:Vue.unref(Q)(Vue.unref(E).userinfo.cover_url[0].url_list[0]),alt:"",class:"avatar"},null,8,Ht),Vue.createElementVNode("div",Xt,Vue.toDisplayString(Vue.unref(E).userinfo.nickname)+"çš„çº¢åŒ…",1),Wt]),Vue.createElementVNode("div",{class:Vue.normalizeClass(["l-button",{opening:a.opening}]),onClick:R},[a.opening?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:0},[Ft,Vue.createTextVNode(" æ­£åœ¨æ‰“å¼€ ")],64)):(Vue.openBlock(),Vue.createElementBlock("span",Kt,"å¼€çº¢åŒ…"))],2)])],64)),Vue.createElementVNode("img",{src:ue,alt:"",class:"close",onClick:s[10]||(s[10]=c=>a.isShowOpenRedPacket=!1)})])])):Vue.createCommentVNode("",!0)]),_:1}),a.loading?(Vue.openBlock(),Vue.createBlock(G,{key:1})):Vue.createCommentVNode("",!0)])}}}),$t=h(xt,[["__scopeId","data-v-6a95cf85"]]);export{$t as default};
